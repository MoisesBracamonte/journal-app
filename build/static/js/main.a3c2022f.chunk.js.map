{"version":3,"sources":["firebase/config.js","firebase/noteCollections.js","redux/notes/actions.js","redux/notes/types.js","redux/auth/actions.js","components/auth/LoginScreen.js","redux/ui/actions.js","components/auth/RegisterScreen.js","routers/AuthRouter.js","routers/PrivateRouter.js","routers/PublicRouter.js","components/journal/JournalEntry.js","components/journal/JournalEntries.js","components/journal/Sidebar.js","components/journal/NothingSelected.js","components/notes/NotesAppBar.js","helper/image.js","components/notes/NoteScreen.js","components/journal/JournalScreen.js","routers/AppRouter.js","redux/auth/authReducers.js","redux/ui/uiReducers.js","redux/notes/notesReducer.js","redux/store.js","JournalApp.js","index.js","redux/auth/types.js","redux/ui/types.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","storage","googleAuthProvider","auth","GoogleAuthProvider","loadNotes","uid","a","notes","collection","get","forEach","doc","push","id","data","activeNote","note","type","payload","getNotes","startLoadNotes","dispatch","startUpdateNote","getState","url","replyNote","update","refreshStoreNote","Swal","fire","title","deleteNote","login","email","displayName","LOGIN","mapDispatchToProps","loginEmailPassword","password","signInWithEmailAndPassword","then","user","catch","error","message","startGoogleLogin","signInWithPopup","connection","connect","props","useState","stateForm","setStateForm","handleInputChange","e","target","name","value","className","onSubmit","preventDefault","placeholder","autoComplete","onChange","onClick","src","alt","to","getError","UI_ERROR","loading","msg","credentials","password2","RegisterScreen","useDispatch","ui","useSelector","store","handleInputForm","isFormValid","trim","length","validator","isEmail","UI_SET_ERROR","userRegister","createUserWithEmailAndPassword","updateProfile","registerWithEmailPasswordName","AuthRouter","path","component","LoginScreen","exact","PrivateRouter","isAuthenticated","Component","rest","PublicRouter","JournalEntry","date","noteDate","moment","style","backgroundSize","backgroundImage","format","JournalEntries","entries","state","map","x","key","Sidebar","signOut","LOGOUT","newNote","Date","getTime","add","docRef","NothingSelected","NotesAppBar","onNote","active","handlePictureChange","image","picture","ref","put","uploadPicture","file","split","blob","slice","size","File","rewriteImage","files","on","snapshot","text","allowOutsideClick","onBeforeOpen","showLoading","getDownloadURL","close","htmlFor","hidden","NoteScreen","activeId","useRef","useEffect","current","width","heigth","noteId","console","log","setNotes","filter","delete","aria-hidden","JournalScreen","AppRouter","checking","setChecking","setIsAuthenticated","onAuthStateChanged","require","initialState","initState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","multipleStore","combineReducers","action","createStore","applyMiddleware","thunk","JournalApp","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3c2022f.chunk.js","sourcesContent":["import firebase  from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\n\r\nconst  firebaseConfig = {\r\n    apiKey: \"AIzaSyDJRlYs1TdXeKVeUKGEou31R3CHUgo2IeU\",\r\n    //authDomain: \"moisesbracamonte.github.io\",\r\n    authDomain: \"dev.everbeautyspa.com\",\r\n    databaseURL: \"https://react-curso-d3622.firebaseio.com\",\r\n    projectId: \"react-curso-d3622\",\r\n    storageBucket: \"react-curso-d3622.appspot.com\",\r\n    messagingSenderId: \"1024813913886\",\r\n    appId: \"1:1024813913886:web:593feee160ca2d19d21b0f\"\r\n}\r\n\r\n// Base de datos\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\n// Referencia a la base de datos para grabar información\r\nconst db = firebase.firestore();\r\nconst storage  = firebase.storage();\r\n// Provider para la autenticación de google.\r\nconst googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport{\r\n    db,\r\n    googleAuthProvider,\r\n    firebase,\r\n    storage\r\n}","import { storage, db } from './config';\r\n\r\nexport const loadNotes = async ( uid ) => {\r\n    const notes = [];\r\n    const noteSnapshot = await db.collection(`${uid}/journal/notes/`).get();\r\n    noteSnapshot.forEach( doc => {\r\n        notes.push({\r\n            id : doc.id,\r\n            ...doc.data()\r\n        })\r\n    })\r\n    return notes;\r\n}\r\n\r\nexport const  uploadPicture = ( picture ) => {\r\n    const uPicture = storage.ref(`images/${ picture.name }`).put( picture );\r\n    return uPicture;\r\n}\r\n\r\n\r\n","import { db } from \"../../firebase/config\";\r\nimport { NOTE_ACTIVE, NOTE_LOAD, NOTE_UPDATE, NOTE_DELETE, NOTE_LOGOUT_CLEANING } from \"./types\";\r\nimport { loadNotes } from \"../../firebase/noteCollections\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const startNewNote = () => {\r\n    return async (dispatch, state) => {\r\n\r\n        const { auth } = state();\r\n        const { uid } = auth;\r\n\r\n        const newNote = {\r\n            title: '',\r\n            note: '',\r\n            date: new Date().getTime()\r\n        };\r\n\r\n        const docRef = await db.collection(`${uid}/journal/notes/`).add(newNote);  /* Grabar en firestore */\r\n        dispatch( activeNote(docRef.id, newNote) );\r\n        dispatch( startLoadNotes( uid )  );\r\n\r\n    }\r\n}\r\n\r\nexport const activeNote = (id, note) => {\r\n    return {\r\n        type: NOTE_ACTIVE,\r\n        payload: {\r\n            id,\r\n            ...note\r\n        }\r\n    }\r\n}\r\n\r\nexport const getNotes = (notes) => {\r\n    return {\r\n        type: NOTE_LOAD,\r\n        payload: notes\r\n    }\r\n}\r\n\r\nexport const startLoadNotes = (uid) => {\r\n    return async (dispatch) => {\r\n        const notes = await loadNotes(uid);\r\n        dispatch(getNotes(notes));\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * 0. Obtenemos el uid del usuario\r\n * 1. Eliminamos el Id ya que en nuestra base no se almacena en el documento.\r\n * 2. Validamos de que la url no venga en null, si viene borramos.\r\n * 3. Almacenos la información. \r\n * 4. Actualizamos la lista de los datos en el sidebar.\r\n */\r\nexport const startUpdateNote = (note) => {\r\n    // Como es una llamada async la actualización utilizamos thunk. \r\n    return async (dispatch, getState) => {\r\n\r\n        const { uid } = getState().auth;\r\n        if (!note.url) {\r\n            delete note.url;\r\n        }\r\n        const replyNote = { ...note }\r\n        delete replyNote.id;\r\n\r\n        await db.doc(`${uid}/journal/notes/${note.id}`).update(replyNote);\r\n        dispatch(refreshStoreNote(note));\r\n        Swal.fire(\"Saved\", note.title, 'success');\r\n    }\r\n}\r\n\r\n/*  Actualizamos la nota que se modifico  */\r\nexport const refreshStoreNote = (note) => {\r\n    return {\r\n        type: NOTE_UPDATE,\r\n        payload: {\r\n            note: note\r\n        }\r\n    }\r\n}\r\n\r\nexport const startUploadImage = (image) => {\r\n    return (dispatch, getState) => {\r\n        image.on(\"state_changed\", snapshot => {\r\n            Swal.fire({\r\n                title: 'Uploading',\r\n                text: 'Please wait...',\r\n                allowOutsideClick: false,\r\n                onBeforeOpen: () => { Swal.showLoading() }\r\n            });\r\n\r\n        }, error => { }, () => {\r\n            image.snapshot.ref.getDownloadURL()\r\n                .then((url) => {\r\n                    const { active: onNote } = getState().notes;\r\n                    onNote.url = url;\r\n                    dispatch(startUpdateNote(onNote))\r\n                    Swal.close();\r\n                })\r\n        })\r\n    }\r\n}\r\n\r\n/*\r\n1.  Acá procedemos a la eliminación de la nota en el firebase. \r\n2.  Disparamos otra opción que es la encargada de elimiar y actulizar nuestra tienda. \r\n*/\r\nexport const startDeleteNote = ( noteId ) => {\r\n    return  async ( dispatch, state ) => {\r\n        const { uid } = state().auth;\r\n        const { notes } = state().notes;\r\n        const setNotes = notes.filter( x => x.id !== noteId );\r\n        await db.doc(`${ uid }/journal/notes/${ noteId }`).delete();\r\n        dispatch( deleteNote( setNotes ) );\r\n    }   \r\n\r\n}\r\n\r\nexport const deleteNote = ( notes ) => {\r\n    return {\r\n        type: NOTE_DELETE,\r\n        payload:{\r\n            notes\r\n        }\r\n    }\r\n}\r\n\r\nexport const cleaningNotes = () => {\r\n\r\n    return {\r\n        type: NOTE_LOGOUT_CLEANING,\r\n    }\r\n\r\n}","export const NOTE_ADD = 'NOTE_ADD'; \r\nexport const NOTE_ACTIVE = 'NOTE_ACTIVE';\r\nexport const NOTE_LOAD = 'NOTE_LOAD';\r\nexport const NOTE_UPDATE = 'NOTE_UPDATE';\r\nexport const NOTE_FILE_URL_IMAGE = 'NOTE_FILE_URL_IMAGE';\r\nexport const NOTE_FILE_URL = 'NOTE_FILE_URL';\r\nexport const NOTE_LOGOUT_CLEANING = 'NOTE_LOGOUT_CLEANING';\r\nexport const NOTE_DELETE = 'NOTE_DELETE';","import { firebase, googleAuthProvider } from './../../firebase/config';\r\nimport Swal from 'sweetalert2';\r\n\r\n\r\nimport { LOGIN, LOGOUT } from \"./types\";\r\nimport { cleaningNotes } from '../notes/actions';\r\n\r\n\r\nexport const login = ({ uid, email, displayName }) => {\r\n    return {\r\n        type:LOGIN,\r\n        payload:{\r\n            uid,\r\n            email,\r\n            displayName\r\n        }\r\n    }\r\n}\r\n\r\n/* Login normal. */\r\nexport const loginEmailPassword = ({email, password}) => {\r\n    return dispatch => { // Retornamos un callback, encargado de ejecutar la petición async.    \r\n        firebase.auth().signInWithEmailAndPassword( email, password )\r\n        .then( ({user}) => {\r\n            dispatch( login(user) );\r\n        }).catch(error => {\r\n            Swal.fire(\"Error\", error.message, 'error')\r\n        });\r\n    }\r\n} \r\n\r\n/** Login con google */\r\nexport const startGoogleLogin = () => {\r\n    return dispatch => {\r\n        firebase.auth().signInWithPopup( googleAuthProvider )\r\n        .then( ({user}) => {\r\n            dispatch( login(user) );\r\n        }).catch(error => {\r\n            Swal.fire(\"Error\", error.message, 'error')\r\n        })\r\n    }\r\n}\r\n\r\n/*  Registrar usaurio en firebase. */\r\nexport const registerWithEmailPasswordName = userRegister => {\r\n    const {email, password, name} = userRegister;\r\n    return dispatch => {\r\n        firebase.auth().createUserWithEmailAndPassword( email, password )\r\n        .then( async ({user}) => {\r\n             await user.updateProfile({displayName: name });\r\n             dispatch( login( user ) );\r\n        }).catch( error => {\r\n            Swal.fire(\"Error\", error.message, 'error');\r\n        });\r\n    }\r\n\r\n}\r\n\r\n\r\n/*  Implementación del Logout  */\r\n\r\nexport const startLogout = () => {\r\n    /* Al ser una función async, debo utilizar thunk para esperar la petición */\r\n    return async (dispatch) => {\r\n        await firebase.auth().signOut();\r\n        dispatch( cleaningNotes() );\r\n        dispatch({ type:LOGOUT })\r\n    }\r\n}","import React, { Fragment, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { loginEmailPassword, startGoogleLogin } from '../../redux/auth/actions';\r\nimport { connect } from 'react-redux';\r\n\r\nconst LoginScreen = (props) => {\r\n\r\n    const [stateForm, setStateForm ] = useState({\r\n        email: 'moisesrob@gmail.com',\r\n        password: '123456'\r\n    });\r\n    \r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setStateForm({ ...stateForm, [name]: value })\r\n    }\r\n\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        props.loginEmailPassword( stateForm )\r\n    }\r\n\r\n    const handleGoogleLogin = () => {\r\n        props.startGoogleLogin()\r\n    }\r\n\r\n    const { email, password } = stateForm;\r\n    return (\r\n        <Fragment>\r\n            <h5 className=\"auth__title\">Login</h5>\r\n            <form onSubmit={ handleFormSubmit }>\r\n               <input\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    placeholder=\"email\"\r\n                    className=\"auth__input\"\r\n                    autoComplete=\"off\"\r\n                    value={ email }\r\n                    onChange= { (e) => handleInputChange(e) }\r\n                /> \r\n\r\n               <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"password\"\r\n                    className=\"auth__input\"\r\n                    value= { password }\r\n                    onChange = { (e) => handleInputChange(e) }\r\n                />\r\n\r\n                <button \r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-block\"\r\n                >Login</button>\r\n\r\n                <div className=\"auth__login-social-network\" onClick={ handleGoogleLogin }>\r\n                <p>Login with social network</p>\r\n                    <div className=\"google-btn\" >\r\n                        <div className=\"google-icon-wrapper\">\r\n                            <img className=\"google-icon\" src=\"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg\" alt=\"google button\" />\r\n                        </div>\r\n                        <p className=\"btn-text\">\r\n                            <b>Sign in with google</b>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n            <Link to=\"/auth/register\">Register</Link>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\n\r\n/** Configuración de redux para disparar la acción */\r\nconst mapDispatchToProps =  { loginEmailPassword, startGoogleLogin };\r\nconst connection = connect(null, mapDispatchToProps)(LoginScreen)\r\nexport default connection;","import { UI_ERROR, UI_SET_ERROR } from './types';\r\n\r\nexport const getError = (error) => {\r\n    return {\r\n        type: UI_ERROR,\r\n        payload: {\r\n            loading:true,\r\n            msg: error\r\n        }\r\n    }\r\n}\r\n\r\nexport const setError = () => ({ type: UI_SET_ERROR })","import React, { Fragment, useState } from 'react';\r\nimport validator from 'validator';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setError, getError } from '../../redux/ui/actions';\r\nimport { registerWithEmailPasswordName } from '../../redux/auth/actions';\r\n\r\nconst credentials = {\r\n    name : \"Moises RB.\",\r\n    email : \"moisesrob@gmail.com\",\r\n    password: \"1234567\",\r\n    password2: \"1234567\"\r\n}\r\n\r\n\r\nconst RegisterScreen = () =>{\r\n    /* Dispatch and store reducers hooks */\r\n    const dispatch = useDispatch();\r\n    const ui = useSelector( store => store.ui);\r\n    const [stateForm, setStateForm] = useState(credentials);\r\n    const { name, email, password, password2 } = stateForm;\r\n    \r\n\r\n    const handleInputForm = (e) => {\r\n        setStateForm( {...stateForm, [e.target.name]: e.target.value } );\r\n    }\r\n\r\n    const handleFormSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(isFormValid()){\r\n            dispatch(registerWithEmailPasswordName(stateForm));\r\n        }\r\n        \r\n    }\r\n\r\n    const isFormValid = () => {\r\n        if(name.trim().length === 0){\r\n            dispatch(getError(\"name is required\"))\r\n            return false;\r\n        }else if(!validator.isEmail( email )){\r\n            dispatch(getError(\"email is required\"))\r\n            return false;\r\n        }else if( password !== password2 || password.length < 5){\r\n            dispatch(getError(\"Password should be at least 6 characters and match each other\"))\r\n            return false;\r\n        }\r\n        dispatch( setError() );\r\n        return true;\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <h5 className=\"auth__title\">Register</h5>\r\n            <form onSubmit={ handleFormSubmit }>\r\n                {\r\n                    ui.loading &&\r\n                        <div className=\"auth__alert-error\"> {ui.msg} </div>\r\n                }\r\n               <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    placeholder=\"Name\"\r\n                    className=\"auth__input\"\r\n                    autoComplete=\"off\"\r\n                    value={ name }\r\n                    onChange= { (e) => handleInputForm(e) }\r\n                    \r\n                /> \r\n               <input\r\n                    type=\"text\"\r\n                    name=\"email\"\r\n                    placeholder=\"Email\"\r\n                    className=\"auth__input\"\r\n                    autoComplete=\"off\"\r\n                    value={ email }\r\n                    onChange= { (e) => handleInputForm(e) }\r\n                    \r\n                /> \r\n\r\n               <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder=\"Paswword\"\r\n                    className=\"auth__input\"\r\n                    value={ password }\r\n                    onChange= { (e) => handleInputForm(e) }\r\n                    \r\n                />\r\n\r\n               <input\r\n                    type=\"password\"\r\n                    name=\"password2\"\r\n                    placeholder=\"Confirm\"\r\n                    className=\"auth__input\"\r\n                    value={ password2 }\r\n                    onChange= { (e) => handleInputForm(e) }\r\n                    \r\n                />\r\n\r\n                <button \r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary btn-block mb-5 mt-5\"\r\n                >Login</button>\r\n            </form>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default RegisterScreen","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport LoginScreen from '../components/auth/LoginScreen';\r\nimport RegisterScreen from '../components/auth/RegisterScreen';\r\nexport const AuthRouter = () => {\r\n    return (\r\n        <div className=\"auth__main\">\r\n            <div className=\"auth__box-container\">     \r\n                <Switch >\r\n                    <Route \r\n                        path=\"/auth/login\" \r\n                        component={ LoginScreen } />\r\n                    <Route \r\n                        path=\"/auth/register\" \r\n                        component={ RegisterScreen } />\r\n                    <Redirect exact to=\"/auth/login\" />\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport const PrivateRouter = ({\r\n    isAuthenticated,\r\n    component:Component,\r\n    ...rest\r\n}) => {\r\n\r\n    return (\r\n        <Route\r\n            { ...rest }\r\n            component={ (props) => (\r\n                (isAuthenticated)\r\n                ? (<Component { ...props } />)\r\n                : (<Redirect to=\"/auth/login\" />)\r\n            )}\r\n        />\r\n    )\r\n    \r\n}","import React from 'react';\r\nimport {Route, Redirect }  from 'react-router-dom';\r\n\r\n\r\n\r\n\r\nexport const PublicRouter = ({\r\n    isAuthenticated,\r\n    component:Component,\r\n    ...rest\r\n}) => {\r\n\r\n    return (\r\n        <Route\r\n            { ...rest }\r\n            component={ (props) => (\r\n                (isAuthenticated)\r\n                ? (<Redirect to=\"/\" />)\r\n                : (<Component { ...props } />)\r\n            )}\r\n        />\r\n    )\r\n    \r\n}","import React from 'react';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { activeNote } from '../../redux/notes/actions';\r\n\r\n\r\nconst JournalEntry = ({ id, title, note, date, url }) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const noteDate = moment(date);\r\n\r\n    const handleViewNote = () => {\r\n        dispatch( activeNote( id, {\r\n            title, note, date, url\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <div className=\"journal__entry pointer\"\r\n        onClick={ handleViewNote }>\r\n\r\n            {\r\n                url &&\r\n                    (<div className=\"journal__entry-picture\"\r\n                    style={{\r\n                        backgroundSize: 'cover',\r\n                        backgroundImage: `url( ${ url } )`\r\n                    }}></div>)\r\n            }\r\n\r\n            <div className=\"journal__entry-body\">\r\n                <p className=\"journal__entry-title\"> { title } </p>\r\n                <p className=\"journal__entry-content\">\r\n                   { note }\r\n                </p>\r\n            </div>\r\n\r\n            <div className=\"journal__entry-date-box\">\r\n            <span>{ noteDate.format('dddd') }</span>\r\n                    <h4>{ noteDate.format('\tDo') }</h4>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JournalEntry;","import React from 'react';\r\nimport JournalEntry from './JournalEntry';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst JournalEntries = () => {\r\n    \r\n    const entries = useSelector(state => state.notes );\r\n    \r\n    return ( \r\n        <div className=\"journal__entries\">\r\n            {\r\n                entries.notes.map(x => (\r\n                    <JournalEntry key={ x.id } { ...x } />\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JournalEntries;","import React from 'react';\r\nimport JournalEntries from './JournalEntries';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { startLogout } from '../../redux/auth/actions';\r\nimport { startNewNote } from '../../redux/notes/actions';\r\n\r\n\r\n\r\nconst Sidebar = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const user = useSelector(state => state.auth);\r\n\r\n    const handleLogoutClick = () => {\r\n        dispatch( startLogout() );\r\n    }\r\n\r\n    const handleAddEntry = () => {\r\n        dispatch( startNewNote() );\r\n    }\r\n\r\n    return(\r\n        <aside className=\"journal__sidebar\">\r\n            <div className=\"journal__sidebar-navbar\">\r\n                <h3 className=\"mt-5\">\r\n                    <span>{ user.displayName }</span>\r\n                </h3>\r\n                <button className=\"mt-5 btn journal__btn-logout\"\r\n                onClick={ handleLogoutClick }\r\n                >Logout</button>\r\n\r\n            </div>\r\n            <div className=\"journal__new-entry\"\r\n            onClick={ handleAddEntry }>\r\n                <i className=\"far fa-calendar-plus fa-5x\"></i>\r\n                <p className=\"mt-5\">New entry</p>\r\n            </div>\r\n            <JournalEntries/>\r\n        </aside>    \r\n    )\r\n}\r\n\r\nexport default Sidebar;","import React from 'react';\r\n\r\nconst NothingSelected = () => {\r\n    return (\r\n        <div className=\"nothing__main-content\">\r\n            <p>\r\n                Select something\r\n            </p>\r\n            Please create a entry!\r\n            <i className=\"far fa-star fa-4x mt-5\"></i>\r\n        </div>\r\n    )\r\n}\r\nexport default NothingSelected;","import React from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { startUpdateNote, startUploadImage } from '../../redux/notes/actions';\r\nimport { uploadPicture } from '../../firebase/noteCollections';\r\nimport { rewriteImage } from '../../helper/image';\r\n\r\nconst NotesAppBar = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const {active:onNote} = useSelector( state => state.notes );\r\n    \r\n    const handleSaveNoteClick = () => {\r\n        dispatch( startUpdateNote( onNote ) )\r\n    }\r\n\r\n    const handlePictureChange = (e) => {\r\n        var picture = rewriteImage( e.target.files[0], onNote.id);\r\n        var url = uploadPicture( picture );\r\n        dispatch( startUploadImage(url));\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"notes__appbar\">\r\n            <span> 31 de julio 1992</span>\r\n            <div>\r\n                <label htmlFor=\"file-upload\"> Picture </label>\r\n                <input type=\"file\" id=\"file-upload\"  hidden onChange={ (e) => handlePictureChange(e) }/>\r\n                <button className=\"btn\"\r\n                onClick={ handleSaveNoteClick }> Save </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotesAppBar;\r\n","export const rewriteImage = (file, id)  => {\r\n    var image = file.name.split(\".\");\r\n    image = `${ id }.${ image[ image.length - 1 ]}`;\r\n    var blob = file.slice(0, file.size, 'image/png'); \r\n    return new File([blob], image, {type: 'image/png'});\r\n}","import React, { useState, useEffect, useRef } from 'react'\r\nimport NotesAppBar from './NotesAppBar';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { activeNote, startDeleteNote } from '../../redux/notes/actions';\r\n\r\nconst NoteScreen = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { active: onNote } = useSelector(state => state.notes);\r\n    const [stateForm, setStateForm] = useState(onNote)\r\n    const activeId = useRef(onNote.id);\r\n    const { title, note, url } = stateForm;\r\n\r\n    useEffect(() => {\r\n\r\n        if (onNote.id !== activeId.current) {\r\n            setStateForm(onNote);\r\n            activeId.current = onNote.id;\r\n        }\r\n\r\n    }, [onNote]);\r\n\r\n\r\n    const handleInputChange = (e) => {\r\n\r\n        setStateForm({\r\n            ...stateForm,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n    const handleDelNoteClick = () => {\r\n        console.log(\"Click delete\");\r\n        /*  Se debe disparar una acción donde elimine la información del fireStore, e elimine la información almacenada en el Stora de la app. */\r\n        dispatch( startDeleteNote(activeId.current) );\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(activeNote(onNote.id, { ...stateForm }))\r\n    }, [stateForm, dispatch]);\r\n\r\n    return (\r\n        <div className=\"notes__main-content\">\r\n            <NotesAppBar />\r\n            <div className=\"notes__content\">\r\n\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"title\"\r\n                    placeholder=\"Some awesome title\"\r\n                    className=\"notes__title-input\"\r\n                    autoComplete=\"off\"\r\n                    value={title}\r\n                    onChange={(e) => handleInputChange(e)}\r\n                />\r\n\r\n                <textarea\r\n                    name=\"note\"\r\n                    placeholder=\"What happend today\"\r\n                    className=\"notes__textarea-input\"\r\n                    value={note}\r\n                    onChange={(e) => handleInputChange(e)}\r\n                ></textarea>\r\n\r\n                <div className=\"notes__footer\">\r\n                    <div className=\"notes__images\">\r\n                        {\r\n                            onNote.url &&\r\n                            (<img\r\n                                width=\"20%\"\r\n                                heigth=\"20%\"\r\n                                src={onNote.url}\r\n                                alt=\"img\"\r\n                            />)\r\n                        }\r\n                    </div>\r\n                    <div className=\"notes__button-del\">\r\n                        <a\r\n                            onClick={handleDelNoteClick}>\r\n                            <i className=\"fa fa-trash\" aria-hidden=\"true\"></i>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NoteScreen;\r\n","import React from 'react';\r\nimport Sidebar from './Sidebar';\r\nimport NothingSelected from './NothingSelected';\r\nimport NoteScreen from '../notes/NoteScreen';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst JournalScreen = () => {\r\n    const notes = useSelector(state => state.notes);\r\n    \r\n    return (\r\n        <div className=\"journal__main-content\">\r\n            <Sidebar />\r\n            <main>\r\n                {\r\n                    (notes.active)\r\n                    ? <NoteScreen />\r\n                    : <NothingSelected />\r\n                }\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default JournalScreen\r\n","import React, { useEffect, useState } from 'react';\r\nimport { \r\n    BrowserRouter as Router, \r\n    Switch, \r\n    Redirect,  \r\n    } from 'react-router-dom';\r\nimport { firebase } from './../firebase/config';\r\nimport { useDispatch } from 'react-redux';\r\nimport { login } from '../redux/auth/actions';\r\n\r\nimport { AuthRouter } from './AuthRouter';\r\nimport { PrivateRouter } from './PrivateRouter';\r\nimport { PublicRouter } from './PublicRouter';\r\n\r\n\r\nimport JournalScreen from '../components/journal/JournalScreen';\r\nimport { startLoadNotes } from '../redux/notes/actions';\r\n\r\nexport const AppRouter = () => {\r\n\r\n    const [ checking, setChecking ] = useState(true);\r\n    const [ isAuthenticated, setIsAuthenticated ] = useState(false);\r\n    const dispatch = useDispatch();\r\n    useEffect(() => {\r\n        firebase.auth().onAuthStateChanged( (user) => {\r\n            if(user?.uid){\r\n                dispatch( login(user) );\r\n                setIsAuthenticated(true); \r\n                dispatch( startLoadNotes( user.uid ) );\r\n            }else{\r\n                setIsAuthenticated(false);\r\n            }\r\n            setChecking(false);\r\n        })\r\n    }, [ dispatch, setChecking]);\r\n\r\n\r\n    if( checking ){ return( <h2>Loading page...</h2>) }\r\n    /** Manejamos una pantalla de carga  */\r\n    \r\n    return ( \r\n        <Router>\r\n            <Switch>\r\n                <PublicRouter  \r\n                    path=\"/auth\" \r\n                    isAuthenticated={ isAuthenticated }\r\n                    component={ AuthRouter }\r\n                />\r\n                <PrivateRouter\r\n                    exact \r\n                    path=\"/\" \r\n                    isAuthenticated={ isAuthenticated }\r\n                    component= { JournalScreen }\r\n                />\r\n                <Redirect to=\"/auth/login\"/>\r\n            </Switch>\r\n        </Router>\r\n\r\n    )\r\n}","const { LOGIN, LOGOUT } = require(\"./types\");\r\n\r\nexport const authReducers = ( state= {} , action) => {\r\n    const { type, payload } = action;\r\n    switch (type) {\r\n        case LOGIN:\r\n            return { ...state, ...payload };\r\n        case LOGOUT :\r\n            return {};\r\n        default :\r\n            return state;\r\n    }\r\n}","const { UI_ERROR, UI_SET_ERROR } = require(\"./types\");\r\n\r\nconst initialState = {\r\n    loading : false,\r\n    msg: \"\"\r\n}\r\n\r\nexport const uiReducers = (state = initialState, action) => {\r\n\r\n    const { type, payload } = action;\r\n    switch(type){\r\n        case UI_ERROR:\r\n            return { ...payload }\r\n        case UI_SET_ERROR:\r\n            return initialState;\r\n        default:\r\n            return state;\r\n    }\r\n}","import { NOTE_ACTIVE, NOTE_LOAD, NOTE_UPDATE, NOTE_DELETE, NOTE_LOGOUT_CLEANING } from \"./types\";\r\n\r\nconst initState = {\r\n    notes:[],\r\n    active: null\r\n}\r\nexport const notesReducers = (state = initState, action) => {\r\n    const { type, payload } = action;\r\n\r\n    switch( type ){\r\n        case NOTE_ACTIVE:\r\n\r\n            return {\r\n                ...state,\r\n                active:{\r\n                    ...payload\r\n                }\r\n            }\r\n        \r\n        case NOTE_LOAD:\r\n            return{\r\n                ...state,\r\n                notes: [ ...payload ]\r\n            }\r\n        \r\n        case NOTE_UPDATE:\r\n            return {\r\n                ...state,\r\n                notes: state.notes.map( x => {\r\n                    return x.id === payload.note.id ? payload.note : x\r\n                })\r\n            }\r\n        \r\n        case NOTE_DELETE:\r\n\r\n            return{\r\n                ...state,\r\n                active:null,\r\n                notes:[ ...payload.notes ]\r\n            }\r\n        \r\n        case NOTE_LOGOUT_CLEANING:\r\n            return { ...initState }\r\n              \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { createStore, combineReducers,compose,applyMiddleware } from  'redux';\r\nimport  thunk from 'redux-thunk';\r\n\r\nimport { authReducers } from './auth/authReducers';\r\nimport { uiReducers } from './ui/uiReducers';\r\nimport { notesReducers } from './notes/notesReducer';\r\n\r\nconst composeEnhancers = (typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) || compose;\r\n\r\nconst multipleStore = combineReducers({\r\n    auth: authReducers,\r\n    ui: uiReducers,\r\n    notes: notesReducers\r\n});\r\n\r\nexport const store = createStore(\r\n    multipleStore,\r\n    composeEnhancers( applyMiddleware(thunk) )\r\n);","import React from 'react'\r\nimport './styles/styles.scss';\r\nimport { AppRouter } from './routers/AppRouter';\r\nimport { Provider } from 'react-redux';\r\nimport { store } from './redux/store';\r\n\r\nconst JournalApp = () => (\r\n    <Provider store={ store }>\r\n        < AppRouter />\r\n    </Provider>\r\n\r\n)\r\n\r\nexport default JournalApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport JournalApp from './JournalApp';\n\nReactDOM.render(\n  <React.StrictMode>\n    <JournalApp />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","export const LOGIN = \"LOGIN\";\r\nexport const LOGOUT = \"LOGOUT\";","export const UI_ERROR = 'UI_ERROR';\r\nexport const UI_SET_ERROR = 'UI_SET_ERROR';"],"sourceRoot":""}